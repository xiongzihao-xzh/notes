![[切片集群架构图 20240429204158.png]]
* 纵向扩展：升级单个 Redis 实例的资源配置，包括增加内存容量、增加磁盘容量、使用更 高配置的 CPU。就像下图中，原来的实例内存是 8GB，硬盘是 50GB，纵向扩展后，内存 增加到 24GB，磁盘增加到 150GB
* 横向扩展：横向增加当前 Redis 实例的个数，就像下图中，原来使用 1 个 8GB 内存、 50GB 磁盘的实例，现在使用三个相同配置的实例
![[纵向扩展和横向扩展对比图 20240429204424.png]]
# 数据切片和实例的对应分布关系
Redis Cluster 方案采用哈希槽（Hash Slot）来处理数据和实例之间的映射关系。在 Redis Cluster 方案中，一个切片集群共有 16384 个哈希槽，这些哈希槽类似于数据分区，每个键值对都会根据它的 key，被映射到一个哈希槽中
具体的映射过程分为两大步：首先根据键值对的 key，按照 CRC16 算法计算一个 16 bit 的 值；然后，再用这个 16bit 值对 16384 取模，得到 0~16383 范围内的模数，每个模数代表 一个相应编号的哈希槽
![[映射分布情况 20240429205446.png]]
**在手动分配哈希槽时，需要把 16384 个槽都分配完，否则 Redis 集群无法正常工作**
![[客户端MOVED重定向命令 20240429205745.png]]