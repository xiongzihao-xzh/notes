# JVM 锁失效场景
在使用 `@Transactional` 开启事务时，锁的获取与提交在事务的开启后和提交前，另一个线程会因为 MVCC 机制读取快照值导致锁失效
![[Pasted image 20240625021241.png]]
# 解决方案
1. 业务逻辑方法加事务，调用方加锁
2. 手动开启事务
