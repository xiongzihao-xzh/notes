# 一级缓存
MyBatis 的一级缓存也叫本地缓存，它是SqlSession 级别的缓存。一级缓存并非一直有效，它会在非查询操作、事务提交或回滚以及关闭 SqlSession 等情况发生时失效
默认情况下，MyBatis 的一级缓存是开启的，无需开发人员进行额外配置
查询操作 -> 一级缓存 -> db
# 二级缓存
MyBatis 二级缓存的作用域为 namespace，它是一个映射文件级别的缓存，又被称为 SqlSessionFactory 级别的缓存
开启二级缓存后：查询操作 -> 二级缓存 -> 一级缓存 -> db，默认情况下二级缓存关闭
## 使用
在 mybatis-config.xml 全局配置文件中开启二级缓存
```xml
<settings>
	<setting name"cacheEnabled" value="true" />
</settings>
```
在映射文件 namespace 下开启二级缓存
```xml
<cache />
```
## 二级缓存属性

| 属性            | 作用                                                                                |
| ------------- | --------------------------------------------------------------------------------- |
| type          | 表示缓存的类型，常用于配置第三方缓存                                                                |
| flushInterval | 设置缓存刷新间隔，单位为毫秒。默认情况下未设置该值，所以在增删改操作后刷新缓存                                           |
| size          | 设置缓存对象的数量，默认为 1024                                                                |
| readOnly      | 设置缓存是否为只读。设置为 true 时，表示缓存对象不能被修改，但缓存性能高。设置为 false 时，返回对象的副本，性能较低，但安全性高。默认值为 false |
| evication     | 设置缓存回收策略                                                                          |
## 二级缓存回收策略
使用 evication 属性配置回收策略
* LRU：最近最少使用的策略，即移除最长时间不被使用的对象
* FIFO：先进先出策略，即按对象进入缓存的顺序来一出它们
* SOFT：软引用策略，即移除基于垃圾回收器状态和软引用规则的对象
* WEAK：弱引用策略，即更积极地移除基于垃圾收集器状态的弱引用规则的对象
## 二级缓存失效场景
两次查询之间执行增删改操作，会同时清空一级缓存和二级缓存
# 第三方缓存
todo